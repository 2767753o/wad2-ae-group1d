{% extends 'blink/base.html' %}
{% load staticfiles %}
{% block title_block %}
	User Profile
{% endblock %}

{% block body_block %}
<section id="profile">
<div id="content">
    {% if userProfileData %}
        {% comment %} USER CONTENTS {% endcomment %}
        <h1>{{ userData.username }}</h1>
        {% if userProfileData.profilePicture %}
            <img src="{{ userProfileData.profilePicture.url }}" alt="Profile Picture" width="75" height="75" />
        {% else %}
            <img src="{% static 'images/defaultPFP.png' %}" alt="Profile Picture" width="75" height="75" />
        {% endif %}

        {% if not is_self_page %}
            <form action="{% url 'blink:toggle_follow' user_id=page_user.id %}" method="post">
            {% csrf_token %}
            <input type="hidden" name="user_id" value="{{ page_user.id }}">
            {% if is_following %}
                <input type="submit" value="Unfollow">
            {% else %}
                <input type="submit" value="Follow">
            {% endif %}
            </form>
        {% endif %}

        {% comment %} USER FOLLOWING {% endcomment %}
        <h2><a href="{% url 'blink:user_following' user_id=userData.id %}">Following</a></h2>

        {% comment %} User FOLLOWED{% endcomment %}
        <h2><a href="{% url 'blink:user_followed' user_id=userData.id %}">Followed</a></h2>

        {% comment %} USER'S POSTS {% endcomment %}
        <div>
            <h2>Daily Post</h2>
            {% if postData %}
                <a href="{% url 'blink:view_post' postData.postID %}">
                    <div>
                        <section id="userPagePost">
                            {% if postData.image %}
                                <img src="{{ postData.image.url }}" alt="Post Image" width="300px">
                            {% endif %}
                            <p>{{ postData.content }}</p>
                        </section>
                        <p>{{ timePosted }}</p>
                    </div>
                </a>
            {% else %}
                <p>There are no posts.</p>
            {% endif %}
        </div>
    {% endif %}
</div>
</section>
{% endblock %}