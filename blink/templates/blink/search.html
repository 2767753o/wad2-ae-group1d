{% extends 'blink/base.html' %}
{% load static %}

{% block title_block %}
    Feed
{% endblock %}

{% block body_block %}
<section id="feed">
	<h1>Search results for: <em>{{ query }}</em></h1>
	<div>
        {% if post_results %}
		    {% for post in post_results %}
                <div>
                    <p>{{ post.content }}</p>
                    <p>{{ post.releaseDate }}</p>
                    <p>{{ post.user }}</p>
                    {% if post.image %}
                        <img src="{{ post.image.url }}" alt="Post Image">
                    {% endif %}
                </div>
            {% endfor %}
        {% else %}
            <p>No posts found.</p>
        {% endif %}
	</div>
    <div>
        {% if user_data %}
            {% for user in user_data %}
                <div>
                    {% if user.1.profilePicture %}
                        <img src="{{ user.1.profilePicture.url }}" alt="Profile Picture" width="75" height="75" />
                    {% else %}
                        <img src="{% static 'images/defaultPFP.png' %}" alt="Profile Picture" width="75" height="75" />
                    {% endif %}
                    <br /><a href="{% url 'blink:user' user.0.username %}">{{ user.0.username }}</a>
                </div>
            {% endfor %}
        {% else %}
            <p>No users found.</p>
        {% endif %}
    </div>
</section>
{% endblock %}
